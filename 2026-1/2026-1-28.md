# 2026.1.28

> #### 🎈5.0（累計時間 217.0h）

## 作業内容

- 上級課題
  - フォロー機能
  - フォロー/フォロワー 一覧（途中）

## 学び
### jQueryメソッド
- `.text()`：要素のテキストを取得、書き換え
- `Number(txt)`：文字列を数値に変換

### through（中間テーブルを介した関連付け）
`through` は**中間に何かを挟んでいるけれど、その先にあるデータが本命**という時に使うショートカット

1. 「多対多」 の関係を作る時  
フォロー機能や、「ユーザーとグループ（中間に所属モデル）」などの関係

- Aさんは複数のグループに所属する
- グループには複数のAさんが所属する

このとき、`user.groups` と直接呼びたい場合に `through` を使う。

2. 「ショートカット」を作りたい時  
3つ以上のテーブルが連なっている時、中抜きしてデータを取得したい場合
```
User has_many Posts
Post has_many Comments
```
このとき、Userから自分の投稿についたコメントを直接取得したい場合：`has_many :comments, through: :posts` と書けば、`user.comments` で全投稿のコメントが取得できます。

## MEMO
フォロー機能の作成で、Userモデルに`has_many :followings, through: …`, `has_many :followers, through: …`の記述をする必要性がいまいち掴めない

=> 「Relationshipレコードの集まり」が欲しいのではなく、「**Userレコードの集まり**」が欲しいから
- `active_relationships` ：「フォローしているという事実（中間データ）」 を取るため
- `followings` ：「フォローしている相手（ユーザーデータ）」 を直接取るため