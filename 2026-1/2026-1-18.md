# 2026.1.18

> #### 🎈3.5（累計時間 192.0h）

## 作業内容

- 上級課題
  - 投稿機能
  - いいね機能（途中）

## 学び
### ActiveDecoratorでViewヘルパーにアクセスする方法
`h.`をヘルパー前に付ける
(`helpers` と書くこともある)

`article_url` や `link_to` などの「Railsのヘルパーメソッド（Viewなどで使うメソッド）」は、本来「View（ActionView）」の中でしか使えません。  
ActiveDecoratorは、Decoratorの中で h というメソッドを介して、Viewヘルパーにアクセスできるようにしてくれています。

### `truncate`
：「文字列を指定した長さで切り取る」 ためのメソッド

使用例
```
content = "今日はRuby on Railsの勉強をしました。Decoratorはとても便利ですね！"
content.truncate(20)
# => "今日はRuby on Railsの勉強を..."
```

`truncate`のカスタマイズ
```
# 省略記号を「〜（続く）」に変更し、文字数を30文字にする
content.truncate(30, omission: "〜（続く）")

# 単語の途中で切れないようにする（英語などの場合に便利）
"Once upon a time in a world far away".truncate(20, separator: ' ')
# => "Once upon a time..." （20文字に最も近いスペースの位置で切ってくれる）
```

### `status: :see_other`
:HTTPステータスコードの 303 See Other を指定するオプション。
主に 「データを保存・更新した後に、別のページにリダイレクトさせる」 際に使われる

Turboを使って POST、PATCH、DELETE などのリクエストを送った場合、Rails側でこの `status: :see_other` を指定しないと、ブラウザが正しくリダイレクト処理を行えない（画面が切り替わらない）ことがあります。

「フォームからデータを送った後のリダイレクトには、おまじないとして status: :see_other をつける」