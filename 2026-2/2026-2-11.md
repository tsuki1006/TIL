# 2026.2.11

> #### 🎈5.5（累計時間 278.5h）

## 作業内容

- 上級課題
  - system test（途中）

## 学び
### sleepをいれないとテストが失敗するとき
`expect(page).to`で始まるCapybaraマッチャ(`have_current_path`, `have_content`, ave_selector`など)は自動待機機能がある。

|記述|種類|動作の仕組み|sleep の必要性|
|:--|:---|:----------|:-------------|
|`expect(current_path).to eq(...)`|Ruby/RSpec標準|`current_path` メソッドが その瞬間の 文字列を返し、それを比較する。|必要（遷移の瞬間を狙い撃てないため）|
|`expect(page).to have_current_path(...)`|Capybara独自|<u>指定したURLになるまで、Capybaraが 何度もURLを確認し直して待機 する。</u>|不要（自動で待ってくれる）|

### 画像ファイルをsrcで探す場合の指定方法
- `src$='...'`：完全な末尾一致
- `src*='...'`：部分一致
